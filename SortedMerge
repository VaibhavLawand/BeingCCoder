#include<iostream>
#include<stdlib.h>
using namespace std;

struct node
{
	int data;
	struct node *next;
};
void display(struct node *);

struct node *SortedMerge(struct node *a,struct node *b)
{
	    struct node *res=NULL;
	    if(a==NULL)
	    {
	    	return(b);
	    }
	    else if(b==NULL)
	    {
	    	return(a);
	    }
		if(a->data<=b->data)
		{
			res=a;
			res->next=SortedMerge(a->next,b);
		}
		else
		{
			res = b;
			res->next=SortedMerge(a,b->next);
		}
		return(res);
}
void push(struct node **head_ref,int d)
{
	struct node *newnode=(node *)new node*;
	newnode->data=d;
	newnode->next=*head_ref;
	*head_ref=newnode;
}
void display(struct node *q)
{
	while(q!=NULL)
	{
		cout<<q->data<<" ";
		q=q->next;
	}
	cout<<endl;
}
int main()
{
	struct node *result=NULL;
	struct node *head1=NULL;
	struct node *head2=NULL;
	push(&head2,41);
	push(&head2,39);
	push(&head2,38);
	push(&head1,40);
	push(&head1,37);
	push(&head1,36);
	display(head1);
	cout<<endl;
	display(head2);
	result=SortedMerge(head1,head2);
	display(result);
}
